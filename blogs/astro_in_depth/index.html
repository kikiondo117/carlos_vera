<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Ks Web"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet"><title>Astro in depth</title><!-- Nota, de esta forma astro no procesa el npm import packages Ts no es
    soportado Se agrega multiples veces --><script>
      const DARK_THEM_CLASS = 'dark';
      const COLOR_MODE = 'color-mode';
      const LIGTH_THEME = 'light';
      const DARK_THEME = 'dark';
      const rootElement = document.documentElement;

      const getItitialColorMode = () => {
        const previousColorMode = window.localStorage.getItem(COLOR_MODE);

        if (previousColorMode) {
          return previousColorMode;
        }

        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          return DARK_THEME;
        }
        return LIGTH_THEME;
      };

      const initialColorMode = getItitialColorMode();

      const setInitialColorMode = (mode) => {
        if (mode === LIGTH_THEME) {
          rootElement.classList.remove(DARK_THEM_CLASS);
        } else {
          rootElement.classList.add(DARK_THEM_CLASS);
        }
      };

      setInitialColorMode(initialColorMode);

      document.addEventListener('DOMContentLoaded', () => {
        // Grab toogle
        const toggle = document.querySelector('[data-theme-toggle]');
        const rootElement = document.documentElement;

        console.log('toggle', toggle);
        if (toggle) {
          toggle.addEventListener('click', () => {
            rootElement.classList.toggle(DARK_THEM_CLASS);

            const colorMode = rootElement.classList.contains(DARK_THEME)
              ? DARK_THEME
              : LIGTH_THEME;

            window.localStorage.setItem(COLOR_MODE, colorMode);
          });
        }
      });
    </script><style>html{--background: white;--grey-200: #222222;--grey-400: #444444;--grey-600: #333333;--grey-900: #111111}html.dark{--background: black;--grey-200: #eaeaea;--grey-400: #acacac;--grey-600: #fff;--grey-900: #fafafa}body{font-family:Roboto Mono,monospace;padding:0 .5rem;color:var(--grey-600);background-color:var(--background)}h1{font-size:3rem}h1+h2{font-size:1.1rem;margin-top:-1.4rem;opacity:.9;font-weight:400}main{max-width:40rem;margin:auto}p,li{font-size:1rem;color:var(--grey-600);opacity:.8}li{margin:1rem 0}footer[data-astro-cid-sz7xmlte]{padding:3rem 0;text-align:center;font-size:.9rem}button[data-astro-cid-ef2qs43u]{cursor:pointer;border-radius:10px;border:0;padding:5px 10px;transition:all .2s ease-in-out}button[data-astro-cid-ef2qs43u]:hover{transform:scale(.9)}button[data-astro-cid-ef2qs43u]:active{transform:scale(1)}.sun[data-astro-cid-ef2qs43u]{fill:transparent}.dark .sun[data-astro-cid-ef2qs43u]{fill:#000}.dark .moon[data-astro-cid-ef2qs43u]{fill:transparent}nav[data-astro-cid-xkrhstpm]{display:flex;align-items:flex-start;padding:2rem 0}ul[data-astro-cid-xkrhstpm]{display:flex;flex-wrap:wrap;padding:0;margin:0 auto 0 0}nav[data-astro-cid-xkrhstpm] li[data-astro-cid-xkrhstpm]{opacity:.8;list-style:none;font-size:.95rem}a[data-astro-cid-xkrhstpm]{color:var(--grey-400);padding:.5rem 1rem;border-radius:10px;text-decoration:none}a[data-astro-cid-xkrhstpm]:hover{color:var(--grey-900)}a[data-astro-cid-xkrhstpm].active{background:var(--grey-900);color:var(--background)}h1[data-astro-cid-w6n32adp]+h2[data-astro-cid-w6n32adp]{margin-bottom:3rem}.figure[data-astro-cid-w6n32adp]{margin:0}.figure__image[data-astro-cid-w6n32adp]{max-width:100%;border-radius:10px}.figure__caption[data-astro-cid-w6n32adp]{font-size:.9rem}
</style><script type="module" src="/carlos_vera/_astro/hoisted.DEglcSv4.js"></script></head> <body> <main> <!-- Content of the page ... --> <nav data-astro-cid-xkrhstpm> <ul data-astro-cid-xkrhstpm> <li data-astro-cid-xkrhstpm><a href="/carlos_vera" data-astro-cid-xkrhstpm>Home</a></li> <li data-astro-cid-xkrhstpm> <a href="/carlos_vera/personal/beyond-tech" data-astro-cid-xkrhstpm>Beyond Tech</a> </li><li data-astro-cid-xkrhstpm> <a href="/carlos_vera/personal/work-summary" data-astro-cid-xkrhstpm>Dev summary</a> </li> </ul> <button aria-label="Theme togggler" data-theme-toggle data-astro-cid-ef2qs43u> <svg width="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-astro-cid-ef2qs43u> <path class="sun" fill-rule="evenodd" d="M12 17.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zm0 1.5a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm12-7a.8.8 0 0 1-.8.8h-2.4a.8.8 0 0 1 0-1.6h2.4a.8.8 0 0 1 .8.8zM4 12a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1 0-1.6h2.5a.8.8 0 0 1 .8.8zm16.5-8.5a.8.8 0 0 1 0 1l-1.8 1.8a.8.8 0 0 1-1-1l1.7-1.8a.8.8 0 0 1 1 0zM6.3 17.7a.8.8 0 0 1 0 1l-1.7 1.8a.8.8 0 1 1-1-1l1.7-1.8a.8.8 0 0 1 1 0zM12 0a.8.8 0 0 1 .8.8v2.5a.8.8 0 0 1-1.6 0V.8A.8.8 0 0 1 12 0zm0 20a.8.8 0 0 1 .8.8v2.4a.8.8 0 0 1-1.6 0v-2.4a.8.8 0 0 1 .8-.8zM3.5 3.5a.8.8 0 0 1 1 0l1.8 1.8a.8.8 0 1 1-1 1L3.5 4.6a.8.8 0 0 1 0-1zm14.2 14.2a.8.8 0 0 1 1 0l1.8 1.7a.8.8 0 0 1-1 1l-1.8-1.7a.8.8 0 0 1 0-1z" data-astro-cid-ef2qs43u></path> <path class="moon" fill-rule="evenodd" d="M16.5 6A10.5 10.5 0 0 1 4.7 16.4 8.5 8.5 0 1 0 16.4 4.7l.1 1.3zm-1.7-2a9 9 0 0 1 .2 2 9 9 0 0 1-11 8.8 9.4 9.4 0 0 1-.8-.3c-.4 0-.8.3-.7.7a10 10 0 0 0 .3.8 10 10 0 0 0 9.2 6 10 10 0 0 0 4-19.2 9.7 9.7 0 0 0-.9-.3c-.3-.1-.7.3-.6.7a9 9 0 0 1 .3.8z" data-astro-cid-ef2qs43u></path> </svg> </button>  <!-- <script>
  const DARK_THEM_CLASS = 'dark';
  const COLOR_MODE = 'color-mode';
  const LIGTH_THEME = 'light';
  const DARK_THEME = 'dark';

  document.addEventListener('DOMContentLoaded', () => {
    // Grab toogle
    const toggle = document.querySelector('[data-theme-toggle]');
    const rootElement = document.documentElement;

    console.log('toggle', toggle);
    if (toggle) {
      toggle.addEventListener('click', () => {
        rootElement.classList.toggle(DARK_THEM_CLASS);

        const colorMode = rootElement.classList.contains(DARK_THEME)
          ? DARK_THEME
          : LIGTH_THEME;

        window.localStorage.setItem(COLOR_MODE, colorMode);
      });
    }
  });
</script> --> </nav>    <figure class="figure" data-astro-cid-w6n32adp> <img src="/carlos_vera/images/astro.png" alt="Poster" width="100%" height="280px" class="figure__image" data-astro-cid-w6n32adp> <figcaption class="figure__caption" style="text-align:center" data-astro-cid-w6n32adp>
Poster image for Astro in depth </figcaption> </figure> <h1 data-astro-cid-w6n32adp>Astro in depth</h1> <h2 data-astro-cid-w6n32adp>A deep dive into Astro</h2> <p>Version en espa√±ol:</p>
<h2 id="javascript-runtime-fatigue">Javascript Runtime fatigue</h2>
<p>Un componente Astro es basicamente un bloque de c√≥digo necesario para crear un Astro project, suena un poco redundante pero es lo que es, teniendo esta definicion en mente, vamos a lo siguiente.</p>
<p>Estos componentes son HTML templates sin ningun cliente-side runtime, vamos a explicarlo de una manera sencilla con algunos ejemplos üßô‚Äç‚ôÇÔ∏è</p>
<p>Imaginemos que creamos un projecto en mi librer√≠a favorita, React JS ‚ù§Ô∏è</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span> npx create-react-app kikis_404</span></span>
<span class="line"><span></span></span></code></pre>
<p>Listo ya tenemos nuestro proyecto en React, ahora vamos a tratar de utilizar un poco la imaginaci√≥n.</p>
<p>Al iniciar el proyecto en React tenemos una UI como la siguiente:</p>
<center>
  <img src="https://assets.digitalocean.com/articles/66983/React_Dark_BG.png" alt="react" width="400px" height="200px">
</center>
<p>En nuestra UI tenemos un parrafo, un enlace y una imagen de React, algo muy sencillo.</p>
<p>Si hacemo un <code>npm run build</code> para crear el bundle de nuestra app sencilla, vamos a crear un proceso generando los siguientes archivos:</p>
<ul>
<li>build/static/js/main.js</li>
<li>build/static/js/787.f2a4c4f0.chunk.js</li>
<li>build/static/css/main.f1a5d3d6.chunk.css</li>
</ul>
<p>Pero aparte de estos, React crea un html file con el root element donde nuestra app se renderizara insertando elementos usando js.</p>
<p>Este archivo HTML tiene en el <strong>Head</strong> el <strong>bundle css</strong> y el js donde el script tiene el atributo <code>defer="defer"</code>.</p>
<p>Lo realmente interesante es que el archivo JS generado por el bundle, este tiene miles de lineas de c√≥digo y eso que no hemos creado nada nuevo, solo utilizamos el template basico, siendo m√°s exactos 9000 lineas de c√≥digo üò±!!!</p>
<p>Este archivo va a se ejecutado por el Browser ya que es una funcion auto-ejecutada.</p>
<h3 id="qu√©-es-este-archivo-js">¬øQu√© es este archivo JS?</h3>
<p>Practicamente es el runtime de React que necesitamos para trabajar con React, state, props, virtual DOM, etc.</p>
<p>Esto no es una critica, React nunca va a dejar de ser mi librer√≠a favorita üòä pero tenemos que tener en cuenta que puede ser un poco overkill para un proyecto simple.</p>  <footer data-astro-cid-sz7xmlte>&copy; KS Web</footer>  </main> </body></html> 